{% extends "Base.html" %}
{% load static %}
{% block content %}
<p>Total de productos: {{ productos|length }}</p>

<!-- Animaciones AOS -->
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", () => {
    AOS.init({ duration: 700, once: true });
  });
</script>

<div class="min-h-screen bg-gradient-to-b from-amber-50 to-amber-100 py-10 px-6">
  <h1 class="text-4xl font-bold text-amber-800 text-center mb-10" data-aos="fade-down">
    üõçÔ∏è Descubre nuestros productos
  </h1>

  {% if productos %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {% for producto in productos %}
        <div class="bg-white rounded-2xl shadow-lg hover:shadow-2xl transition duration-300 p-5 flex flex-col"
             data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:"100" }}">

          <!-- Imagen del producto -->
          <div class="relative">
            {% if producto.imagenes.all %}
              <img src="{{ producto.imagenes.first.imagen.url }}" alt="{{ producto.nombre }}"
                   class="w-full h-64 object-cover rounded-xl border border-amber-100 shadow-md">
            {% else %}
              <div class="w-full h-64 flex items-center justify-center bg-amber-50 rounded-xl text-gray-400 border border-dashed border-amber-200">
                Sin imagen
              </div>
            {% endif %}
          </div>

          <!-- Info -->
          <div class="mt-5 flex-1">
            <h2 class="text-xl font-bold text-amber-800">{{ producto.nombre }}</h2>
            <p class="text-gray-600 text-sm mt-2">
              {{ producto.descripcion|default:"No tiene descripci√≥n especificada." }}
            </p>
            <p class="mt-3 text-amber-700 font-semibold">üí∞ ${{ producto.precio }}</p>
            <p class="text-sm text-gray-700">üè∑Ô∏è Marca: {{ producto.marca|default:"No tiene especificado" }}</p>
            <p class="text-sm text-gray-700">üì¶ Stock: {{ producto.stock }}</p>
          </div>

          <!-- Bot√≥n -->
          <button class="mt-4 bg-amber-600 hover:bg-amber-700 text-white font-semibold py-2 px-4 rounded-lg transition">
            üõí A√±adir al carrito
          </button>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-center text-gray-600 mt-10 text-lg">No hay productos disponibles a√∫n.</p>
  {% endif %}
</div>

{% endblock %}
